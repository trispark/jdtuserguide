<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
  <meta name="description" content="">
  <meta name="author" content="">
  <link rel="icon" href="../../favicon.ico">

  <title>Starter Template for Bootstrap</title>

  <!-- Bootstrap core CSS -->
  <link href="css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/default.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="css/jdtuserguide.css" rel="stylesheet">

  <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
  <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
  <script src="../../assets/js/ie-emulation-modes-warning.js"></script>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
  <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->
</head>

<body>

<nav class="navbar navbar-default">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="#">Trispark Java Dicom Toolkit</a>
    </div>
    <div id="navbar" class="collapse navbar-collapse">
      <ul class="nav navbar-nav">
        <li class="active"><a href="http://www.trispark.com">Home</a></li>
        <li><a href="http://jdt.trispark.com/api/index.html" target="_new">API Docs</a></li>
        <li class="dropdown">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contents<span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a href="gettingstarted.html">Getting started</a></li>
            <li><a href="datasets.html">Working with DICOM Files and Datasets</a></li>
            <li><a href="networking.html">DICOM Networking</a></li>
            <li><a href="logging.html">Logging</a></li>
          </ul>
        </li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
</nav>

<div class="container">

  <div class="starter-template">
    <h1>Logging</h1>
 </div>

  <div class="row">
      <div class="col-md-3">
        <nav class="bs-docs-sidebar" data-spy="affix" data-offset-top ="215" data-offset-bottom="0">
          <ul class="nav nav-stacked fixed">
            <li><a href="#introduction">Introduction</a></li>
            <li><a href="#loggingjdt">Logging with JDT's internal logging framework</a></li>
            <li><a href="#loggingexisting">Integrating with an existing logging framework</a></li>
            <li><a href="#example">Example: Using Apache Log4j</a></li>
          </ul>
        </nav>
      </div>
      <div class="col-md-9">
        <h1 id="introduction">Introduction</h1>
        <p>
          Logging and interpreting log messages can be an invaluable tool during the debugging and testing of your applications and in general provides detailed information
          on the execution of code. JDT provides a small logging package <code>com.archimed.log</code> that is used internally by the other JDT packages to output log messages during
          the execution of various methods of JDT classes.
        </p><p>
          Because JDT is normally integrated into other applications, application developers may have already chosen an existing
          logging framework like for example Apache Log4J or the java.util.logging package.
          The <code>com.archimed.log</code> package does not make use directly of any existing logging framework but can be set up so that it delegates the generation of
          log statements to an underlying existing logging framework. In the absence of an existing logging framework, the package can generate log statements on its own.
        </p>
        <h1 id="loggingjdt">Logging with JDT's internal logging framework</h1>
        <p>
          By default, JDT is configured to use one instance of<code> com.archimed.log.DefaultJdtLogger</code> for writing all log messages from all the JDT classes.
          The DefaultJdtLogger class defines seven log levels comparable with the Log4J log levels.
          The default level is OFF which means no log messages are written.
          The DefaultJdtLogger class holds a reference to a single OutputStream to which all log messages are written and which is initialized to System.out.
        </p>
        <p>
          For example, to set the output level to the ERROR level and to direct the output of log messages to System.err :
        </p>

        <pre><code class="lang-java">DefaultJdtLogger.setLevel(DefaultJdtLogger.ERROR);
DefaultJdtLogger.setOutputStream(System.err);</code></pre>

        <h1 id="loggingexisting">Integrating with an existing logging framework</h1>

        <p>The logging mechanism in JDT is based on two interfaces:</p>

        <pre><code class="lang-java">com.archimed.log.JdtLoggerFactory
com.archimed.log.JdtLogger</code></pre>

        <p>
          The JdtLoggerFactory interface defines one method that returns references to JdtLogger implementing classes.
          The JdtLogger interface defines the necessary methods for logging messages at various log levels.
          A JdtLoggerFactory can be specified with the static setJdtLoggerFactory method of the <code>com.archimed.dicom.Jdt</code> class.
        </p><p>
          All JDT classes that use logging retrieve a reference to a JdtLogger by first retrieving the current JdtLoggerFactory and then
          retrieving a JdtLogger by using the getJdtLogger class of the factory.
        </p><p>
        For example the DicomObject class has declared:
        </p>

        <pre><code class="lang-java">protected JdtLogger log = Jdt.getJdtLoggerFactory().getJdtLogger(DicomObject.class);</code></pre>

        <p>
          By default, the installed factory is the <code>com.archimed.log.DefaultJdtLoggerFactory</code> which keeps a reference to a
          single <code>com.archimed.log.DefaultJdtLogger</code> instance. This factory can be replaced by another factory that returns different implementations of <code>JdtLogger</code>.
        </p><p>
          In general to replace the default logging with logging from an existing log framework, one has to:
        </p>

        <ul>
          <li>create a new factory that implements JdtLoggerFactory and that returns instances of JdtLogger implementing classes
          <li>create a new JdtLogger implementation, making use of the logging functionality of the existing log framework
        </ul>

        <h1 id="example">Example: Using Apache Log4j</h1>
        <p>As an example of replacing the default logging, two classes are provided that enable JDT to use Log4j as the logging framework:</p>

        <pre><code class="lang-java">com.archimed.dicom.examples.Log4jLoggerFactory
        com.archimed.dicom.examples.Log4jLogger</code></pre>

        <p>The two classes wrap functionality of the org.apache.log4j.Logger class. To enable JDT logging using these classes the default factory must be replaced with this new factory:</p>

        <pre><code class="lang-java">Jdt.setJdtLoggerFactory(new Log4jLoggerFactory());</code></pre>

        <p>From that point on , JDT will log messages according to the current Log4j configuration. For example, to enable DEBUG level logging on all classes of JDT one would typically do:</p>

        <pre><code class="lang-java">org.apache.log4j.Logger.getLogger("com.archimed").setLevel(org.apache.log4j.Level.DEBUG);</code></pre>

      </div>
  </div>
</div>

<div class="footer">
  <div class="container">
    <p class="text-muted">Trispark 1998 - 2015. All rights reserved</p>
  </div>
</div>



<!-- Bootstrap core JavaScript
================================================== -->
<!-- Placed at the end of the document so the pages load faster -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/highlight.pack.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="js/jdtuserguide.js"></script>
<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
<script src="../../assets/js/ie10-viewport-bug-workaround.js"></script>
</body>
</html>

